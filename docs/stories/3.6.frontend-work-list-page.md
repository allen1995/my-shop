# Story 3.6: 前端作品集页面

## Status

Draft

## Story

**As a** user,
**I want** to view my collection on the frontend,
**so that** I can browse and manage my works easily.

## Acceptance Criteria

1. 作品集页面已创建
2. 作品以卡片网格形式展示
3. 支持下拉刷新和上拉加载更多
4. 点击作品卡片跳转到作品详情页
5. 页面UI美观，符合设计规范
6. 空状态提示已实现（无作品时）

## Tasks / Subtasks

- [ ] Task 1: 创建作品集页面 (AC: 1)
  - [ ] 创建pages/works/list.vue
  - [ ] 设计页面布局（使用uView UI组件）
- [ ] Task 2: 实现作品卡片网格 (AC: 2, 5)
  - [ ] 使用uView UI的u-grid或自定义网格布局
  - [ ] 创建作品卡片组件（或内联实现）
  - [ ] 显示作品缩略图、标题
  - [ ] 优化卡片样式和布局
- [ ] Task 3: 实现下拉刷新 (AC: 3)
  - [ ] 使用uni-app的onPullDownRefresh
  - [ ] 实现刷新逻辑（重新加载第一页数据）
  - [ ] 显示刷新动画
- [ ] Task 4: 实现上拉加载更多 (AC: 3)
  - [ ] 使用uni-app的onReachBottom
  - [ ] 实现加载更多逻辑（加载下一页）
  - [ ] 显示加载状态
  - [ ] 处理没有更多数据的情况
- [ ] Task 5: 实现作品列表加载 (AC: 2)
  - [ ] 在onLoad中加载作品列表
  - [ ] 调用后端/api/works接口
  - [ ] 处理分页参数
  - [ ] 更新作品列表数据
- [ ] Task 6: 实现跳转到详情页 (AC: 4)
  - [ ] 点击作品卡片
  - [ ] 使用uni.navigateTo跳转到作品详情页
  - [ ] 传递workId参数
- [ ] Task 7: 实现空状态提示 (AC: 6)
  - [ ] 检测作品列表为空
  - [ ] 显示空状态组件（使用uView UI的u-empty）
  - [ ] 添加提示文字和图标
- [ ] Task 8: 创建API封装 (AC: 5)
  - [ ] 在api/work.js中创建getWorks方法
  - [ ] 封装作品列表查询接口

## Dev Notes

### Previous Story Insights

依赖Story 3.3（作品列表查询API）完成，确保后端接口可用。同时依赖Story 1.2（前端项目初始化）完成，确保项目结构已就绪。

### Data Models

**作品列表响应：**
```typescript
interface WorkListResponse {
  works: Work[];
  total: number;
}
```

**作品接口：**
```typescript
interface Work {
  id: number;
  userId: number;
  title: string;
  description?: string;
  imageUrl: string;
  tags?: string[];
  createTime: string;
  updateTime: string;
}
```

[Source: docs/fullstack-architecture.md#Work（作品）]

### API Specifications

**GET /api/works**
- 查询参数：`page?: number, size?: number`
- 响应：`{ works: Work[], total: number }`

前端需要：
- 实现分页加载
- 实现下拉刷新
- 实现上拉加载更多

[Source: docs/fullstack-architecture.md#API Specification]

### File Locations

**前端文件位置：**
```
frontend/
├── pages/
│   └── works/
│       └── list.vue                  # 作品集页面
└── api/
    └── work.js                       # 作品API封装（如未创建）
```

[Source: docs/fullstack-architecture.md#Repository Structure]

### Technical Constraints

- **UI组件**: 使用uView UI组件库
- **下拉刷新**: 使用uni-app的onPullDownRefresh
- **上拉加载**: 使用uni-app的onReachBottom
- **导航**: 使用uni.navigateTo跳转到详情页

[Source: docs/fullstack-architecture.md#Tech Stack]

### Testing Requirements

前端测试暂不实施，主要进行手动验证：
- 验证页面显示
- 验证下拉刷新
- 验证上拉加载更多
- 验证跳转功能

[Source: docs/fullstack-architecture.md#Tech Stack]

## Testing

### Test File Location

前端测试暂不实施，后续添加。

### Test Standards

当前阶段主要进行手动验证：
- 在微信开发者工具中测试页面功能
- 验证下拉刷新和上拉加载
- 验证跳转功能

### Test Scenarios

1. **页面显示测试**
   - 验证页面能够正常显示
   - 验证作品卡片网格显示正确

2. **下拉刷新测试**
   - 下拉页面
   - 验证刷新动画显示
   - 验证数据重新加载

3. **上拉加载更多测试**
   - 滚动到底部
   - 验证加载更多数据
   - 验证没有更多数据时的提示

4. **跳转功能测试**
   - 点击作品卡片
   - 验证跳转到详情页
   - 验证传递workId参数

5. **空状态测试**
   - 没有作品时
   - 验证显示空状态提示

### Success Criteria

- 作品集页面能够正常显示
- 下拉刷新和上拉加载更多功能正常
- 跳转功能正常
- 空状态提示正确
- 页面UI美观

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-15 | 1.0 | 初始故事创建 | Scrum Master |

## Dev Agent Record

### Agent Model Used

_To be filled by Dev Agent_

### Debug Log References

_To be filled by Dev Agent_

### Completion Notes List

_To be filled by Dev Agent_

### File List

_To be filled by Dev Agent_

## QA Results

_To be filled by QA Agent_

