{"version":3,"file":"image-to-image.js","sources":["pages/generate/image-to-image.vue","../../../software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZ2VuZXJhdGUvaW1hZ2UtdG8taW1hZ2UudnVl"],"sourcesContent":["<template>\r\n  <view class=\"generate-container\">\r\n    <view class=\"upload-section\">\r\n      <text class=\"section-title\">‰∏ä‰º†ÂèÇËÄÉÂõæÁâá</text>\r\n      <view class=\"upload-area\" @click=\"chooseImage\">\r\n        <view v-if=\"imageUrl\" class=\"image-wrapper\">\r\n          <image \r\n            class=\"preview-image\" \r\n            :src=\"imageUrl\" \r\n            :key=\"'img-' + Date.now()\"\r\n            mode=\"aspectFit\"\r\n            :lazy-load=\"false\"\r\n            :show-menu-by-longpress=\"false\"\r\n            @error=\"onImageError\"\r\n            @load=\"onImageLoad\"\r\n          ></image>\r\n        </view>\r\n        <view v-else class=\"upload-placeholder\">\r\n          <text class=\"upload-icon\">üì∑</text>\r\n          <text class=\"upload-text\">ÁÇπÂáªÈÄâÊã©ÂõæÁâá</text>\r\n          <text class=\"upload-hint\">ÊîØÊåÅÁõ∏ÂÜåÊàñÊãçÁÖß</text>\r\n        </view>\r\n        <view v-if=\"uploading\" class=\"upload-mask\">\r\n          <text class=\"upload-status\">‰∏ä‰º†‰∏≠...</text>\r\n        </view>\r\n      </view>\r\n      <view v-if=\"imageUrl\" class=\"upload-actions\">\r\n        <button class=\"action-btn\" @click=\"chooseImage\">ÈáçÊñ∞ÈÄâÊã©</button>\r\n        <button class=\"action-btn\" @click=\"removeImage\">Âà†Èô§</button>\r\n      </view>\r\n    </view>\r\n    \r\n    <view class=\"input-section\">\r\n      <textarea \r\n        class=\"prompt-input\" \r\n        v-model=\"prompt\" \r\n        placeholder=\"ÊèèËø∞‰Ω†ÊÉ≥Ë¶ÅÁîüÊàêÁöÑÂõæÁâáÈ£éÊ†ºÊàñÂèòÂåñÔºå‰æãÂ¶ÇÔºöÂç°ÈÄöÈ£éÊ†º„ÄÅÊ∞¥ÂΩ©Áîª„ÄÅÊäΩË±°Ëâ∫ÊúØ\"\r\n        maxlength=\"500\"\r\n      ></textarea>\r\n      <text class=\"char-count\">{{ prompt.length }}/500</text>\r\n    </view>\r\n    \r\n    <view class=\"params-section\">\r\n      <view class=\"param-item\">\r\n        <text class=\"param-label\">Áõ∏‰ººÂ∫¶Ôºö{{ similarity }}%</text>\r\n        <view class=\"slider-container\">\r\n          <slider \r\n            :value=\"similarity\" \r\n            min=\"0\" \r\n            max=\"100\" \r\n            step=\"1\"\r\n            activeColor=\"#007AFF\"\r\n            backgroundColor=\"#E5E5E5\"\r\n            block-color=\"#007AFF\"\r\n            @change=\"onSimilarityChange\"\r\n          />\r\n          <view class=\"slider-labels\">\r\n            <text class=\"slider-label\">‰Ωé</text>\r\n            <text class=\"slider-label\">È´ò</text>\r\n          </view>\r\n        </view>\r\n        <text class=\"param-desc\">Áõ∏‰ººÂ∫¶Ë∂äÈ´òÔºåÁîüÊàêÁöÑÂõæÁâáË∂äÊé•ËøëÂéüÂõæ</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <view class=\"action-section\">\r\n      <button \r\n        class=\"generate-btn\" \r\n        :disabled=\"!canGenerate\" \r\n        :loading=\"generating\"\r\n        @click=\"handleGenerate\"\r\n      >\r\n        {{ generating ? 'ÁîüÊàê‰∏≠...' : 'ÂºÄÂßãÁîüÊàê' }}\r\n      </button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, nextTick } from 'vue'\r\nimport { imageGenerationApi } from '@/api/imageGeneration'\r\n\r\nconst imageUrl = ref('')\r\nconst prompt = ref('')\r\nconst similarity = ref(50)\r\nconst generating = ref(false)\r\nconst uploading = ref(false)\r\n\r\nconst canGenerate = computed(() => {\r\n  return imageUrl.value && prompt.value.trim().length > 0 && !generating.value\r\n})\r\n\r\nconst chooseImage = () => {\r\n  uni.chooseImage({\r\n    count: 1,\r\n    sizeType: ['compressed'],\r\n    sourceType: ['album', 'camera'],\r\n    success: (res) => {\r\n      const tempFilePath = res.tempFilePaths[0]\r\n      console.log('ÈÄâÊã©ÁöÑÂõæÁâáË∑ØÂæÑ:', tempFilePath)\r\n      \r\n      // ÂÖàÊòæÁ§∫Êú¨Âú∞È¢ÑËßàÔºàÁ°Æ‰øùË∑ØÂæÑÊ†ºÂºèÊ≠£Á°ÆÔºâ\r\n      // Â∞èÁ®ãÂ∫èÁéØÂ¢ÉÂèØËÉΩÈúÄË¶ÅÁâπÊÆäÂ§ÑÁêÜ\r\n      imageUrl.value = tempFilePath\r\n      \r\n      // ‰∏ä‰º†Âà∞ÊúçÂä°Âô®\r\n      uploadImageToServer(tempFilePath)\r\n    },\r\n    fail: (err) => {\r\n      console.error('ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•', err)\r\n      uni.showToast({\r\n        title: 'ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst uploadImageToServer = async (filePath) => {\r\n  uploading.value = true\r\n  try {\r\n    uni.showLoading({\r\n      title: '‰∏ä‰º†‰∏≠...',\r\n      mask: true\r\n    })\r\n    \r\n    const res = await imageGenerationApi.uploadImage(filePath)\r\n    console.log('‰∏ä‰º†ÂìçÂ∫î:', res)\r\n    \r\n    if (res.code === 200 && res.data && res.data.imageUrl) {\r\n      // ‰ΩøÁî®ÊúçÂä°Âô®ËøîÂõûÁöÑURLÔºàÁ°Æ‰øùÊòØHTTPSÔºâ\r\n      const serverUrl = res.data.imageUrl\r\n      // Á°Æ‰øùURL‰ΩøÁî®HTTPS\r\n      const httpsUrl = serverUrl.startsWith('http://') \r\n        ? serverUrl.replace('http://', 'https://') \r\n        : serverUrl\r\n      \r\n      // Áõ¥Êé•Êõ¥Êñ∞ÂõæÁâáURLÔºà‰∏çÊ∏ÖÁ©∫ÔºåÈÅøÂÖçÈó™ÁÉÅÔºâ\r\n      const oldUrl = imageUrl.value\r\n      imageUrl.value = httpsUrl\r\n      console.log('ÂõæÁâáURLÂ∑≤Êõ¥Êñ∞:', imageUrl.value, 'ÊóßURL:', oldUrl)\r\n      \r\n      // Â¶ÇÊûúURLÁõ∏ÂêåÔºåÂº∫Âà∂Êõ¥Êñ∞key\r\n      if (oldUrl === httpsUrl) {\r\n        // Ëß¶ÂèëÈáçÊñ∞Ê∏≤Êüì\r\n        await nextTick()\r\n        imageUrl.value = ''\r\n        await nextTick()\r\n        imageUrl.value = httpsUrl\r\n      }\r\n      \r\n      // Á≠âÂæÖÁ°Æ‰øùËßÜÂõæÊ∏≤Êüì\r\n      await nextTick()\r\n      await new Promise(resolve => setTimeout(resolve, 300))\r\n      \r\n      uni.hideLoading()\r\n      uploading.value = false\r\n      \r\n      uni.showToast({\r\n        title: '‰∏ä‰º†ÊàêÂäü',\r\n        icon: 'success',\r\n        duration: 1500\r\n      })\r\n    } else {\r\n      uni.hideLoading()\r\n      uploading.value = false\r\n      \r\n      const errorMsg = res.message || '‰∏ä‰º†Â§±Ë¥•'\r\n      console.error('‰∏ä‰º†Â§±Ë¥•:', errorMsg, res)\r\n      uni.showToast({\r\n        title: errorMsg,\r\n        icon: 'none',\r\n        duration: 2000\r\n      })\r\n      \r\n      // ‰∏ä‰º†Â§±Ë¥•Êó∂Ôºå‰øùÊåÅÊú¨Âú∞È¢ÑËßàÔºàÂ¶ÇÊûúÂèØËÉΩÔºâ\r\n      // Ê≥®ÊÑèÔºöÂ∞èÁ®ãÂ∫èÁéØÂ¢ÉÂèØËÉΩÊó†Ê≥ïÊòæÁ§∫Êú¨Âú∞‰∏¥Êó∂Ë∑ØÂæÑ\r\n      // Â¶ÇÊûúÁ°ÆÂÆûÊó†Ê≥ïÊòæÁ§∫ÔºåÂèØ‰ª•ËÄÉËôëÊ∏ÖÁ©∫imageUrl\r\n    }\r\n  } catch (error) {\r\n    console.error('‰∏ä‰º†ÂºÇÂ∏∏:', error)\r\n    uni.hideLoading()\r\n    uploading.value = false\r\n    \r\n    uni.showToast({\r\n      title: '‰∏ä‰º†Â§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n      icon: 'none',\r\n      duration: 2000\r\n    })\r\n    \r\n    // ‰∏ä‰º†Â§±Ë¥•Êó∂Ôºå‰øùÊåÅÊú¨Âú∞È¢ÑËßàÔºàÂ¶ÇÊûúÂèØËÉΩÔºâ\r\n  }\r\n}\r\n\r\nconst removeImage = () => {\r\n  imageUrl.value = ''\r\n}\r\n\r\nconst onImageError = (e) => {\r\n  console.error('ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•:', e, 'ÂΩìÂâçURL:', imageUrl.value)\r\n  uni.showToast({\r\n    title: 'ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•',\r\n    icon: 'none'\r\n  })\r\n}\r\n\r\nconst onImageLoad = (e) => {\r\n  console.log('ÂõæÁâáÂä†ËΩΩÊàêÂäü:', imageUrl.value)\r\n  console.log('ÂõæÁâáÂ∞∫ÂØ∏:', e.detail.width, 'x', e.detail.height)\r\n  // Âº∫Âà∂Êõ¥Êñ∞ËßÜÂõæ\r\n  nextTick(() => {\r\n    console.log('ËßÜÂõæÂ∑≤Êõ¥Êñ∞ÔºåÂΩìÂâçimageUrl:', imageUrl.value)\r\n  })\r\n}\r\n\r\nconst onSimilarityChange = (e) => {\r\n  similarity.value = e.detail.value\r\n}\r\n\r\nconst handleGenerate = async () => {\r\n  if (!canGenerate.value) return\r\n  \r\n  // ÂèÇÊï∞È™åËØÅ\r\n  if (!imageUrl.value) {\r\n    uni.showToast({\r\n      title: 'ËØ∑ÂÖàÈÄâÊã©ÂèÇËÄÉÂõæÁâá',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  if (!prompt.value.trim()) {\r\n    uni.showToast({\r\n      title: 'ËØ∑ËæìÂÖ•ÊèêÁ§∫ËØç',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  generating.value = true\r\n  \r\n  try {\r\n    // Á°Æ‰øùÂõæÁâáÂ∑≤‰∏ä‰º†Âà∞ÊúçÂä°Âô®\r\n    let finalImageUrl = imageUrl.value\r\n    \r\n    // Â¶ÇÊûúÊòØÊú¨Âú∞Ë∑ØÂæÑÔºåÈúÄË¶ÅÂÖà‰∏ä‰º†\r\n    if (imageUrl.value.startsWith('file://') || imageUrl.value.startsWith('tmp://') || !imageUrl.value.startsWith('http')) {\r\n      uni.showToast({\r\n        title: 'ÂõæÁâáÊ≠£Âú®‰∏ä‰º†ÔºåËØ∑Á®çÂÄô',\r\n        icon: 'none'\r\n      })\r\n      generating.value = false\r\n      return\r\n    }\r\n    \r\n    const res = await imageGenerationApi.imageToImage({\r\n      imageUrl: finalImageUrl,\r\n      prompt: prompt.value,\r\n      similarity: similarity.value\r\n    })\r\n    \r\n    if (res.code === 200 && res.data) {\r\n      const taskId = res.data.taskId\r\n      \r\n      if (!taskId) {\r\n        uni.showToast({\r\n          title: 'ÁîüÊàêÂ§±Ë¥•ÔºöÊú™Ëé∑ÂèñÂà∞‰ªªÂä°ID',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      \r\n      // Ë∑≥ËΩ¨Âà∞ÁîüÊàêËøõÂ∫¶È°µ\r\n      uni.navigateTo({\r\n        url: `/pages/generate/generating?taskId=${taskId}`\r\n      })\r\n    } else {\r\n      uni.showToast({\r\n        title: res.message || 'ÁîüÊàêÂ§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('ÁîüÊàêÂ§±Ë¥•', error)\r\n    uni.showToast({\r\n      title: 'ÁîüÊàêÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    generating.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.generate-container {\r\n  padding: 40rpx;\r\n  min-height: 100vh;\r\n  background-color: #F8F8F8;\r\n  padding-bottom: 200rpx;\r\n}\r\n\r\n.upload-section {\r\n  background: #ffffff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 30rpx;\r\n  \r\n  .section-title {\r\n    display: block;\r\n    font-size: 32rpx;\r\n    font-weight: bold;\r\n    color: #333333;\r\n    margin-bottom: 20rpx;\r\n  }\r\n  \r\n  .upload-area {\r\n    width: 100%;\r\n    min-height: 400rpx;\r\n    background: #F5F5F5;\r\n    border-radius: 10rpx;\r\n    overflow: hidden;\r\n    margin-bottom: 20rpx;\r\n    position: relative;\r\n    \r\n    .image-wrapper {\r\n      width: 100%;\r\n      height: 400rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      background-color: #F5F5F5;\r\n      \r\n      .preview-image {\r\n        width: 100%;\r\n        height: 100%;\r\n        display: block;\r\n      }\r\n    }\r\n    \r\n    .upload-placeholder {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 60rpx;\r\n      \r\n      .upload-icon {\r\n        font-size: 80rpx;\r\n        margin-bottom: 20rpx;\r\n      }\r\n      \r\n      .upload-text {\r\n        font-size: 32rpx;\r\n        color: #333333;\r\n        margin-bottom: 10rpx;\r\n      }\r\n      \r\n      .upload-hint {\r\n        font-size: 24rpx;\r\n        color: #999999;\r\n      }\r\n    }\r\n    \r\n    .upload-mask {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: rgba(0, 0, 0, 0.5);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-radius: 10rpx;\r\n      \r\n      .upload-status {\r\n        color: #ffffff;\r\n        font-size: 28rpx;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .upload-actions {\r\n    display: flex;\r\n    gap: 20rpx;\r\n    \r\n    .action-btn {\r\n      flex: 1;\r\n      height: 60rpx;\r\n      line-height: 60rpx;\r\n      background: #F5F5F5;\r\n      color: #333333;\r\n      border-radius: 10rpx;\r\n      font-size: 28rpx;\r\n      border: none;\r\n    }\r\n  }\r\n}\r\n\r\n.input-section {\r\n  background: #ffffff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 30rpx;\r\n  \r\n  .prompt-input {\r\n    width: 100%;\r\n    min-height: 300rpx;\r\n    font-size: 28rpx;\r\n    line-height: 1.6;\r\n    color: #333333;\r\n  }\r\n  \r\n  .char-count {\r\n    display: block;\r\n    text-align: right;\r\n    font-size: 24rpx;\r\n    color: #999999;\r\n    margin-top: 20rpx;\r\n  }\r\n}\r\n\r\n.params-section {\r\n  background: #ffffff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 30rpx;\r\n  \r\n  .param-item {\r\n    .param-label {\r\n      display: block;\r\n      font-size: 32rpx;\r\n      font-weight: bold;\r\n      color: #333333;\r\n      margin-bottom: 20rpx;\r\n    }\r\n    \r\n    .slider-container {\r\n      margin-bottom: 10rpx;\r\n      \r\n      .slider-labels {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 10rpx;\r\n        \r\n        .slider-label {\r\n          font-size: 24rpx;\r\n          color: #999999;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .param-desc {\r\n      display: block;\r\n      font-size: 24rpx;\r\n      color: #999999;\r\n      margin-top: 10rpx;\r\n    }\r\n  }\r\n}\r\n\r\n.action-section {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 30rpx 40rpx;\r\n  background: #ffffff;\r\n  box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n  \r\n  .generate-btn {\r\n    width: 100%;\r\n    height: 88rpx;\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    color: #ffffff;\r\n    border-radius: 44rpx;\r\n    font-size: 32rpx;\r\n    font-weight: bold;\r\n    border: none;\r\n    \r\n    &[disabled] {\r\n      background: #CCCCCC;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'D:/code/my-shop-cursor/frontend/pages/generate/image-to-image.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","imageGenerationApi","nextTick"],"mappings":"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"}